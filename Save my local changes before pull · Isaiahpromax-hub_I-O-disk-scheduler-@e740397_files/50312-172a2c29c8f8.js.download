"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[50312],{34295:(e,t,n)=>{n.d(t,{l:()=>AgentSessionsTokenProvider});var a=n(65411);let AgentSessionsTokenProvider=class AgentSessionsTokenProvider extends a.JR{constructor(){super([],"/copilot/agent-sessions/token","AGENT_SESSIONS_TOKEN")}}},42455:(e,t,n)=>{n.d(t,{b:()=>d});var a=n(97286),r=n(51120),i=n(97189),s=n(34295),o=n(96540),l=n(65411),c=n(69599);function d(...e){let t=(0,a.I)(...e),{numberOf401s:n,increment401s:u,reset401s:m}=(0,i.eS)(),{isError:h,isLoading:p,error:g}=t;return(0,o.useEffect)(()=>{h&&g instanceof r.Y&&401===g.status?n>=5?(((0,c.G7)("mission_control_use_capi_token_provider")?new l.JR([]):new s.l).removeLocalStorageAuthToken(),m()):u():h||p||!(n>0)||m()},[h,p,g,u,m,n]),t}},45244:(e,t,n)=>{n.d(t,{b:()=>s});var a=n(74848),r=n(21728),i=n(34164);let s=e=>{let t,n,s,o,l=(0,r.c)(8),{children:c,className:d}=e;return l[0]!==d?(t=(0,i.$)("WithShimmerEffect-module__fadeIn--UnU0Y",d),l[0]=d,l[1]=t):t=l[1],l[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.$)("WithShimmerEffect-module__shimmerText--Rzh6H"),l[2]=n):n=l[2],l[3]!==c?(s=(0,a.jsx)("div",{className:n,children:c}),l[3]=c,l[4]=s):s=l[4],l[5]!==t||l[6]!==s?(o=(0,a.jsx)("div",{className:t,children:s}),l[5]=t,l[6]=s,l[7]=o):o=l[7],o};try{s.displayName||(s.displayName="WithShimmerEffect")}catch{}},47723:(e,t,n)=>{let a,r,i,s,o,l,c;n.d(t,{Ct:()=>_,Dv:()=>d,Ff:()=>u,Ns:()=>p,R2:()=>f,Wt:()=>b,a2:()=>y,kF:()=>g,pr:()=>m,qB:()=>v,qY:()=>w,v:()=>h});let d="agents",u="Agents",m="/copilot/agents",h="tasks",p="Tasks",g="task-view",f=1e4,_="/issues/agent_assignments",y="https://gh.io/assigncopilot",b=e=>`/enterprises/${encodeURIComponent(e)}/ai-controls/agents/policies`,v="Provide additional instructions for Copilot",w="copilot-chat-spec-task";function S(e,t,n,a,r,i,s,o,l,c,d,u=0,m=!1){let h=new Date("2025-06-04T20:00:00.000Z"),p=new Date(h.getTime()-24*d*36e5),g=new Date(h.getTime()-24*u*36e5);return{id:e,global_relay_id:t,number:n,state:a,title:r,reviewable_state:i,url:`http://github.localhost:80/monalisa/smile/pull/${n}`,labels:s,comments:o,assignees_avatar_urls:Array.from({length:l},(t,n)=>`https://avatars.githubusercontent.com/u/${e+n}?v=4`),created_at:p.toISOString(),updated_at:g.toISOString(),merged_at:"merged"===a?g.toISOString():void 0,closed_at:"closed"===a||"merged"===a?g.toISOString():void 0,author:c,head_sha:`${r.toLowerCase().replace(/\s+/g,"")}123456789abcdef0123456789abcdef01234567`.substring(0,40),repository_nwo:"monalisa/smile",inMergeQueue:m,repository_id:1,head_ref_name:"feature-branch",base_ref_name:"main",pr_diff_summary:{lines_added:Math.floor(4*Math.random())+1,lines_changed:Math.floor(3*Math.random())+1,lines_deleted:Math.floor(2*Math.random())+1}}}function A(e,t,n,a,r,i,s,o,l=0,c=0,d){let u=new Date("2025-06-04T20:00:00.000Z"),m=new Date(u.getTime()-60*o*6e4),h=new Date(u.getTime()-60*l*6e4);return{id:e,name:t,user_id:n,agent_id:a,state:r,owner_id:9919,repo_id:4,resource_type:"pull",resource_id:i,resource_global_id:s,created_at:m.toISOString(),last_updated_at:h.toISOString(),completed_at:"completed"===r||"failed"===r?h.toISOString():void 0,workflow_run_id:12340+Math.floor(30*Math.random()),log_entries:[],error:d?{message:d}:null,premium_requests:c,event_identifiers:null,event_type:"api_call_received",event_url:null,event_content:null}}function C(e,t){return{resource_type:"pull",resource_id:e.id,resource_global_id:e.global_relay_id,session_count:1,latest_session_updated_at:t.last_updated_at,latest_session_state:t.state,pull:e}}a=["cancelled","idle","in_progress","waiting_for_user","completed","failed","timed_out"],r=["Refactor database queries for performance","Implement dark mode theme","Optimize API response times","Add mobile responsive design","Implement caching layer","Add internationalization support","Update documentation and README","Fix critical security vulnerability","Add user authentication system","Initial project setup and configuration","Implement real-time notifications","Add search functionality","Optimize bundle size","Add unit tests coverage","Implement error handling","Add accessibility features","Optimize database connections","Implement feature flags","Migrate to TypeScript","Implement CI/CD pipeline","Add monitoring and alerts"],i=["alice-dev","bob-backend","charlie-frontend","diana-fullstack","eve-designer","frank-security"],s=[["performance","database"],["ui","theme","enhancement"],["performance","api"],["mobile","responsive","ui"],["performance","caching","backend"],["i18n","feature","localization"]],o=["timeout","validation error","resource conflict","permission denied"],l=1,c="",[...["open","closed","merged"].flatMap(e=>a.map(t=>{c=`PR_${l}`;let n=(l-1)%r.length,a=r[n],d=i[(l-1)%i.length],u=s[n%s.length],m=C(S(l,c,l,e,a,Math.random()>.7?"draft":"ready",u,Math.floor(15*Math.random())+1,Math.floor(3*Math.random()),d,l,l),A(`session-${l.toString().padStart(3,"0")}`,`${a.split(" ").slice(0,3).join(" ")} - ${t}`,0x996718+l,1143300+l,t,l,c,l,l,Math.floor(10*Math.random()),"failed"===t?`Operation failed due to ${o[Math.floor(4*Math.random())]}`:void 0));return l++,m})),C(S(l,c,l,"open","Add feature flags support (in merge queue)","ready",["feature","flags"],5,1,"alice-dev",21,0,!0),A(`session-${l.toString().padStart(3,"0")}`,"Add feature flags support - in_progress",0x996718+l,1143300+l,"in_progress",l,c,1,0,2,void 0))]},51120:(e,t,n)=>{n.d(t,{I:()=>c,Y:()=>FetchCAPIError});var a=n(50467),r=n(34295),i=n(25641),s=n(21067),o=n(69599),l=n(65411);let FetchCAPIError=class FetchCAPIError extends Error{constructor(e,t){super(e),(0,a._)(this,"status",void 0),this.name="FetchCAPIError",this.status=t}};async function c({path:e,method:t="GET",streamingResponse:n=!1,body:a}){let c=(0,o.G7)("mission_control_use_capi_token_provider")?new l.JR([]):new r.l,d=await c.getAuthToken();if(!d)throw Error("No token available");let u={authToken:d,basePath:(0,s._$)().copilotApiOverrideUrl??"https://api.githubcopilot.com",method:t,path:e,streamingResponse:n,body:a},m=await (0,i.p)(u);if(!m.ok){let e="error"in m?m.error:`Failed CAPI request (${m.status})`;if("response"in m&&m.response)try{let t=await m.response.text();t&&t.trim()&&(e=t.trim())}catch{}throw new FetchCAPIError(e,m.status)}return m}},54571:(e,t,n)=>{n.d(t,{I:()=>s});var a=n(96540),r=n(88431),i=n(76629);function s(e,t,n=[]){let o=(0,a.useCallback)(e,n),l=(0,i.BP)(),c=(0,a.useRef)(l===i.O8.ClientRender),[d,u]=(0,a.useState)(()=>l===i.O8.ClientRender?o():t),m=(0,a.useCallback)(()=>{u(o)},[o]);return(0,r.N)(()=>{c.current||u(o),c.current=!1},[o,...n]),[d,m]}},61491:(e,t,n)=>{n.d(t,{J:()=>i});var a=n(96379),r=n(47723);async function i(e,t,n,i){try{let s=await (0,a.lS)(`/${e}/${t}${r.Ct}`,{method:"POST",body:{issue_ids:n,repo_name_with_owner:i.targetRepo,base_ref:i.targetBranch,custom_instructions:i.instructions,custom_agent:i.customAgent}});if(s.ok){let e=await s.json();return{ok:!0,status:s.status,data:e}}{let e;try{let t=await s.json();return e=t.error||`Request failed with status ${s.status}`,{ok:!1,status:s.status,errorMessage:e,jobs:t.jobs||[]}}catch{return e=`Request failed with status ${s.status}`,{ok:!1,status:s.status,errorMessage:e}}}}catch(e){return{ok:!1,status:0,errorMessage:e instanceof Error?e.message:"An unexpected error occurred"}}}},75908:(e,t,n)=>{function a(e,t){switch(t){case 403:return`${e}: Please check that you have permission to assign issues in the target repository.`;case 404:return`${e}: The repository or branch may not exist or may not be accessible.`;case 422:return`${e}: Request could not be processed. Please try again or contact support if the issue persists.`;case 429:return`${e}: Rate limit exceeded. Please wait a few moments and try again.`;case 0:return`${e}. Please check your network connection and try again.`;default:if(t>=500)return`${e}: There was a server error. Please try again in a few moments.`;return`${e}. Please try again or contact support if the issue persists.`}}function r(e,t){return e.errorMessage?`${t}: ${e.errorMessage}`:a(t,e.status)}function i(e,t){if(!e||0===e.length)return"Assignment failed";let n=new Set((t||[]).map(e=>e.issue_number)),a=[];for(let t of e)"number"!=typeof t||isNaN(t)||n.has(t)||a.push(t);if(a.sort((e,t)=>e-t),0===a.length||a.length===e.length)return"Assignment failed";if(1===a.length)return`Assignment failed for #${a[0]}`;if(2===a.length)return`Assignment failed for #${a[0]} and #${a[1]}`;let[r,i,...s]=a,o=s.length;return`Assignment failed for #${r}, #${i} and ${o} other${1===o?"":"s"}`}function s(e,t){return e instanceof Error?`${t} failed: ${e.message}`:a(`${t} failed`,500)}n.d(t,{Ah:()=>i,VJ:()=>s,v0:()=>r})},91779:(e,t,n)=>{n.d(t,{p:()=>p});var a=n(74848),r=n(21728),i=n(94236),s=n(21373),o=n(5524),l=n(73077),c=n(38621),d=n(49851),u=n(51120),m=n(42455),h=n(63422);function p(e){let t,n,l,p,f,_,y,b,v,w,S=(0,r.c)(32),{repo:A,branch:C,selectedAgent:x,onSelect:j,iconOnly:$,disabled:k}=e,I=void 0===$||$,N=void 0!==k&&k;S[0]!==A?(t={repo:A},S[0]=A,S[1]=t):t=S[1];let{data:T,isLoading:O}=function(e){let t,n=(0,r.c)(3),{repo:a}=e;return n[0]!==a.nameOnly||n[1]!==a.owner?(t={queryKey:["custom-agents",a.owner,a.nameOnly],queryFn:async()=>{try{let e=await (0,u.I)({path:`/agents/swe/custom-agents/${a.owner}/${a.nameOnly}`});if(404===e.status)return[];return(await e.json()).agents}catch{return[]}}},n[0]=a.nameOnly,n[1]=a.owner,n[2]=t):t=n[2],(0,m.b)(t)}(t);S[2]!==T?(n=void 0===T?[]:T,S[2]=T,S[3]=n):n=S[3];let P=n;if(S[4]!==P||S[5]!==x){let e;S[7]!==x?(e=e=>e.name===x,S[7]=x,S[8]=e):e=S[8],l=P.find(e),S[4]=P,S[5]=x,S[6]=l}else l=S[6];let B=l,R=B?.display_name||B?.name;if(S[9]!==C||S[10]!==A.nameOnly||S[11]!==A.owner){let e=new URLSearchParams({filename:".github/agents/my-agent.agent.md",value:`---
# Fill in the fields below to create a basic custom agent for your repository.
# The Copilot CLI can be used for local testing: https://gh.io/customagents/cli
# To make this agent available, merge this file into the default repository branch.
# For format details, see: https://gh.io/customagents/config

name:
description:
---

# My Agent

Describe what your agent does here...`});f=A.owner,_=A.nameOnly,y=C,p=e.toString(),S[9]=C,S[10]=A.nameOnly,S[11]=A.owner,S[12]=p,S[13]=f,S[14]=_,S[15]=y}else p=S[12],f=S[13],_=S[14],y=S[15];let M=`/${f}/${_}/new/${y}?${p}`,F=R||"None",E=R?`Custom agent: ${R}`:"Select a custom agent";return S[16]!==E||S[17]!==N||S[18]!==I||S[19]!==O||S[20]!==R||S[21]!==B||S[22]!==F?(b=(0,a.jsx)(i.W.Anchor,{children:I?(0,a.jsx)(h.L,{icon:c.CopilotIcon,selectedIcon:d.c9,"aria-label":E,selected:!!B,disabled:N||O}):(0,a.jsx)(s.Q,{leadingVisual:R?d.c9:c.CopilotIcon,trailingAction:c.TriangleDownIcon,"aria-label":E,className:"SubAgentSelector-module__anchor--_VXhV","data-selected":!!B,disabled:N||O,children:F})}),S[16]=E,S[17]=N,S[18]=I,S[19]=O,S[20]=R,S[21]=B,S[22]=F,S[23]=b):b=S[23],S[24]!==P||S[25]!==M||S[26]!==j||S[27]!==x?(v=(0,a.jsx)(i.W.Overlay,{width:"auto",children:0===P.length?(0,a.jsx)(g,{newFileUrl:M}):(0,a.jsxs)(o.l,{children:[(0,a.jsxs)(o.l.Group,{selectionVariant:"single",children:[(0,a.jsx)(o.l.Item,{selected:!x,onSelect:()=>j(null),children:"None"}),P.map(e=>{let t=!!e.config_error&&e.config_error.length>0;return(0,a.jsx)(o.l.Item,{disabled:t,inactiveText:t?e.config_error:void 0,selected:x===e.name,onSelect:()=>j(e.name),children:e.display_name||e.name},e.name)})]}),(0,a.jsx)(o.l.Divider,{}),(0,a.jsx)(o.l.Group,{selectionVariant:!1,children:(0,a.jsxs)(o.l.LinkItem,{href:M,target:"_blank",children:[(0,a.jsx)(o.l.LeadingVisual,{children:(0,a.jsx)(c.PlusIcon,{})}),"Create an agent"]})})]})}),S[24]=P,S[25]=M,S[26]=j,S[27]=x,S[28]=v):v=S[28],S[29]!==b||S[30]!==v?(w=(0,a.jsxs)(i.W,{children:[b,v]}),S[29]=b,S[30]=v,S[31]=w):w=S[31],w}let g=e=>{let t,n,i,s=(0,r.c)(4),{newFileUrl:o}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("h3",{className:"SubAgentSelector-module__emptyStateTitle--XzBt0",children:"This repository has no custom agents"}),n=(0,a.jsx)("p",{className:"SubAgentSelector-module__emptyStateDescription--zmfeT",children:"Custom agents are reusable instructions and tools in your repository."}),s[0]=t,s[1]=n):(t=s[0],n=s[1]),s[2]!==o?(i=(0,a.jsxs)("div",{className:"SubAgentSelector-module__emptyStateContainer--f3utX",children:[t,n,(0,a.jsx)(l.z,{href:o,children:"Create a custom agent"})]}),s[2]=o,s[3]=i):i=s[3],i};try{p.displayName||(p.displayName="SubAgentSelector")}catch{}try{g.displayName||(g.displayName="EmptyState")}catch{}},94099:(e,t,n)=>{n.d(t,{B:()=>B});var a=n(74848),r=n(21728),i=n(66990),s=n(46642),o=n(86877),l=n(82156),c=n(84078),d=n(4175),u=n(21373),m=n(79431),h=n(96540),p=n(34164),g=n(47723),f=n(97286),_=n(96379),y=n(25407);async function b(e){try{let[t,n]=e.split("/");if(!t||!n)return null;let a=(0,y.SHX)({owner:t,repo:n}),r=await (0,_.lS)(a);if(r.ok){let e=await r.json();return e?.payload.repo.defaultBranch||null}return null}catch{return null}}var v=n(41427);let w="CopilotAssignmentForm-module__formControl--Y9Z73",S="CopilotAssignmentForm-module__justifyStart--iKaZS";var A=n(83494),C=n(91779),x=n(69599);let j=(0,h.forwardRef)(function(e,t){var n;let _,y,j,$,k,I,N,T,O,P,B,R,M,F,E,L,q,D,W,z,V,Q,J,G,U,Y,K,X,Z,H=(0,r.c)(76),{initialRepo:ee,onSubmit:et,onCancel:en,isSubmitting:ea,textareaRef:er,textareaAriaDescribedBy:ei}=e,es=void 0!==ea&&ea,[eo,el]=(0,h.useState)(""),[ec,ed]=(0,h.useState)(void 0),[eu,em]=(0,h.useState)(void 0),[eh,ep]=(0,h.useState)(null),eg=`copilot-assignment-ref-selector-${(0,h.useId)()}`,ef=(0,h.useRef)(null),e_=er||ef,ey=`${ee.owner.login}/${ee.name}`,eb=(n=ee.owner.login,(Z=(0,r.c)(3))[0]!==n||Z[1]!==ey?(X=e=>(0,v.P)(e,n,ey),Z[0]=n,Z[1]=ey,Z[2]=X):X=Z[2],X),{selectedRepo:ev,selectedBranch:ew,setSelectedBranch:eS,isLoadingBranch:eA,initialRepoApiMetadata:eC,handleRepoSelect:ex,handleReposLoaded:ej}=function(e){let t,n,a,i,s,o,l,c,d,u,m,p,g,_,y,v,w=(0,r.c)(32);w[0]!==e.owner.login?(t={login:e.owner.login},w[0]=e.owner.login,w[1]=t):t=w[1],w[2]!==e.defaultBranch||w[3]!==e.name||w[4]!==t?(n={name:e.name,defaultBranch:e.defaultBranch,owner:t},w[2]=e.defaultBranch,w[3]=e.name,w[4]=t,w[5]=n):n=w[5];let S=n,[A,C]=(0,h.useState)(null),[x,j]=(0,h.useState)(""),[$,k]=(0,h.useState)(!1),[I,N]=(0,h.useState)(null);w[6]!==I||w[7]!==S.name||w[8]!==S.owner.login?(a=e=>{if(I)return;let t=`${S.owner.login}/${S.name}`,n=e.find(e=>e.nameWithOwner===t);if(!n)return;let a={private:n.private,isEmpty:n.isEmpty,graphQLId:n.graphQLId};N(a),C(e=>e?.nameWithOwner===t?{...e,...a}:e)},w[6]=I,w[7]=S.name,w[8]=S.owner.login,w[9]=a):a=w[9];let T=a,O=`${S.owner.login}/${S.name}`,P=!S.defaultBranch,{data:B,isLoading:R}=(y=(0,r.c)(7),v=void 0===P||P,y[0]!==O?(p=["repository-default-branch",O],g=()=>b(O??""),y[0]=O,y[1]=p,y[2]=g):(p=y[1],g=y[2]),y[3]!==v||y[4]!==p||y[5]!==g?(_={queryKey:p,queryFn:g,enabled:v,staleTime:3e5,gcTime:6e5,retry:1},y[3]=v,y[4]=p,y[5]=g,y[6]=_):_=y[6],(0,f.I)(_));w[10]!==A||w[11]!==S.defaultBranch||w[12]!==S.name||w[13]!==S.owner.login?(i=()=>{if(A)return;let e=`${S.owner.login}/${S.name}`;C({owner:S.owner.login,name:e,nameOnly:S.name,nameWithOwner:e,enabled:!0,defaultBranch:S.defaultBranch||"",private:!1,graphQLId:"",isEmpty:!1}),S.defaultBranch&&j(S.defaultBranch)},w[10]=A,w[11]=S.defaultBranch,w[12]=S.name,w[13]=S.owner.login,w[14]=i):i=w[14],w[15]!==A||w[16]!==S?(s=[S,A],w[15]=A,w[16]=S,w[17]=s):s=w[17],(0,h.useEffect)(i,s),w[18]!==R?(o=()=>{k(R)},l=[R],w[18]=R,w[19]=o,w[20]=l):(o=w[19],l=w[20]),(0,h.useEffect)(o,l),w[21]!==B||w[22]!==S.defaultBranch?(c=()=>{B&&!S.defaultBranch&&(j(B),C(e=>e?{...e,defaultBranch:B}:e))},d=[B,S.defaultBranch],w[21]=B,w[22]=S.defaultBranch,w[23]=c,w[24]=d):(c=w[23],d=w[24]),(0,h.useEffect)(c,d),w[25]===Symbol.for("react.memo_cache_sentinel")?(u=e=>{e&&(k(!1),C(e),j(e.defaultBranch))},w[25]=u):u=w[25];let M=u;return w[26]!==T||w[27]!==I||w[28]!==$||w[29]!==x||w[30]!==A?(m={selectedRepo:A,selectedBranch:x,isLoadingBranch:$,initialRepoApiMetadata:I,setSelectedBranch:j,handleRepoSelect:M,handleReposLoaded:T},w[26]=T,w[27]=I,w[28]=$,w[29]=x,w[30]=A,w[31]=m):m=w[31],m}(ee);H[0]===Symbol.for("react.memo_cache_sentinel")?(_=(0,x.G7)("copilot_swe_agent_use_subagents"),H[0]=_):_=H[0];let e$=_;e:{if(!ev){y=null;break e}let e=!ev.private,t=ee.owner.login!==ev.owner;if(ev.isEmpty){y="The selected repo has no commits or branches so there's no valid base branch to create a PR against.";break e}if(t){y="You're assigning Copilot coding agent to open a pull request in a different organization. The issue description will be visible to users outside this repository.";break e}if(eC?.private&&e){y="You're assigning Copilot coding agent to open a pull request in a public repository. The issue description will be visible to users outside this repository.";break e}y=null}let ek=y;H[1]!==ex||H[2]!==es?(j=e=>{e&&!es&&(ex(e),em(void 0),ep(null))},H[1]=ex,H[2]=es,H[3]=j):j=H[3];let eI=j;H[4]!==eo||H[5]!==es||H[6]!==et||H[7]!==ew||H[8]!==ev||H[9]!==eh?($=async()=>{if(!es){if(ed(void 0),em(void 0),eo.length>g.R2)return void ed(`Instructions must be ${g.R2.toLocaleString()} characters or fewer. Current length: ${eo.length.toLocaleString()} characters.`);if(!ev||!ew)return void em("Please select a repository and branch.");if(ev.isEmpty)return void em("Please select a valid base branch.");await et(eo,ev,ew,eh)}},H[4]=eo,H[5]=es,H[6]=et,H[7]=ew,H[8]=ev,H[9]=eh,H[10]=$):$=H[10];let eN=$;H[11]!==eN?(k=()=>({submit:eN}),I=[eN],H[11]=eN,H[12]=k,H[13]=I):(k=H[12],I=H[13]),(0,h.useImperativeHandle)(t,k,I);let eT=ev?.isEmpty||es||!ev||!ew,eO=es||eA||!ev?.defaultBranch||ev?.isEmpty,eP=es||ev?.isEmpty||!ew;H[14]===Symbol.for("react.memo_cache_sentinel")?(N=(0,p.$)(w,S),T=(0,a.jsx)(o.A.Label,{children:"Target repository"}),H[14]=N,H[15]=T):(N=H[14],T=H[15]);let eB=ev||void 0,eR=ev?.nameWithOwner||"Select repository",eM=`Repository: ${ev?.nameWithOwner||"Select repository"}`;return H[16]!==es||H[17]!==eM?(O={"aria-label":eM,disabled:es},H[16]=es,H[17]=eM,H[18]=O):O=H[18],H[19]!==eb||H[20]!==eI||H[21]!==ej||H[22]!==eB||H[23]!==eR||H[24]!==O?(P=(0,a.jsxs)(o.A,{className:N,children:[T,(0,a.jsx)(s.P,{repositoryLoader:eb,selectionVariant:"single",selectAllOption:!1,onSelect:eI,onLoad:ej,currentSelection:eB,buttonText:eR,width:"large",truncateMaxWidth:250,additionalButtonProps:O})]}),H[19]=eb,H[20]=eI,H[21]=ej,H[22]=eB,H[23]=eR,H[24]=O,H[25]=P):P=H[25],H[26]===Symbol.for("react.memo_cache_sentinel")?(B=(0,p.$)(w,"CopilotAssignmentForm-module__justifyUnset--qPZmv"),R=(0,a.jsx)(o.A.Label,{children:"Base branch"}),H[26]=B,H[27]=R):(B=H[26],R=H[27]),H[28]!==eg||H[29]!==es||H[30]!==eO||H[31]!==ew||H[32]!==ev||H[33]!==eS?(M=(0,a.jsxs)(o.A,{className:B,children:[R,ev||ew?(0,a.jsx)(i.PI,{useFocusZone:!0,cacheKey:eg,canCreate:!1,currentCommitish:ev?.isEmpty?"None available":ew||"Loading...",defaultBranch:ev?.defaultBranch??ew,owner:ev?.owner||"",repo:ev?.nameOnly||"",types:["branch"],selectedRefType:"branch",closeOnSelect:!0,hideShowAll:!0,disabled:eO,onSelectItem:e=>{es||eS(e)},anchoredOverlayProps:{variant:{regular:"anchored",narrow:"fullscreen"},height:"small"}}):(0,a.jsx)(l.f,{height:"32px",width:"100px"})]}),H[28]=eg,H[29]=es,H[30]=eO,H[31]=ew,H[32]=ev,H[33]=eS,H[34]=M):M=H[34],H[35]!==eP||H[36]!==ev||H[37]!==eh?(F=e$&&ev&&(0,a.jsxs)(o.A,{className:(0,p.$)(w,S),children:[(0,a.jsx)(o.A.Label,{children:"Custom agent"}),(0,a.jsx)(C.p,{repo:ev,branch:ev.defaultBranch,selectedAgent:eh,onSelect:ep,iconOnly:!1,disabled:eP})]}),H[35]=eP,H[36]=ev,H[37]=eh,H[38]=F):F=H[38],H[39]!==P||H[40]!==M||H[41]!==F?(E=(0,a.jsxs)("div",{className:"CopilotAssignmentForm-module__selectorsRow--LskTl",children:[P,M,F]}),H[39]=P,H[40]=M,H[41]=F,H[42]=E):E=H[42],H[43]!==ek?(L=ek&&(0,a.jsx)(c.l,{variant:"warning",title:"Warning",hideTitle:!0,className:"CopilotAssignmentForm-module__warningBanner--xcQ1g",children:ek}),H[43]=ek,H[44]=L):L=H[44],H[45]!==E||H[46]!==L?(q=(0,a.jsxs)("div",{className:"CopilotAssignmentForm-module__selectorsContainer--QsXMe",children:[E,L]}),H[45]=E,H[46]=L,H[47]=q):q=H[47],H[48]===Symbol.for("react.memo_cache_sentinel")?(D=(0,a.jsx)(o.A.Label,{children:"Optional prompt"}),H[48]=D):D=H[48],H[49]===Symbol.for("react.memo_cache_sentinel")?(W=e=>el(e.target.value),H[49]=W):W=H[49],H[50]!==eo||H[51]!==e_||H[52]!==ei?(z=(0,a.jsx)(d.Ay,{ref:e_,className:"CopilotAssignmentForm-module__textarea--wCaxl",placeholder:g.qB,value:eo,onChange:W,rows:2,resize:"vertical","aria-describedby":ei,maxLength:g.R2}),H[50]=eo,H[51]=e_,H[52]=ei,H[53]=z):z=H[53],H[54]!==ec?(V=ec&&(0,a.jsx)(o.A.Validation,{variant:"error",children:ec}),H[54]=ec,H[55]=V):V=H[55],H[56]!==es||H[57]!==z||H[58]!==V?(Q=(0,a.jsx)("div",{className:"CopilotAssignmentForm-module__textareaContainer--Vki_J",children:(0,a.jsxs)(o.A,{disabled:es,children:[D,z,V]})}),H[56]=es,H[57]=z,H[58]=V,H[59]=Q):Q=H[59],H[60]!==eu?(J=eu&&(0,a.jsx)(m.v,{variant:"critical",className:"CopilotAssignmentForm-module__branchValidation--GLQgi",children:eu}),H[60]=eu,H[61]=J):J=H[61],H[62]!==es||H[63]!==en?(G=en&&(0,a.jsx)(u.Q,{variant:"invisible",onClick:en,disabled:es,children:"Cancel"}),H[62]=es,H[63]=en,H[64]=G):G=H[64],H[65]!==es||H[66]!==eT?(U=(0,a.jsx)(A.cQ,{commandId:"github:submit-form",showKeybindingHint:!0,variant:"primary",inactive:eT,loading:es,className:"CopilotAssignmentForm-module__assignButton--CzEjI",children:"Assign"}),H[65]=es,H[66]=eT,H[67]=U):U=H[67],H[68]!==G||H[69]!==U?(Y=(0,a.jsx)("div",{className:"CopilotAssignmentForm-module__buttonsContainer--ZpsdN",children:(0,a.jsxs)("div",{className:"CopilotAssignmentForm-module__buttonsRow--TlL8P",children:[G,U]})}),H[68]=G,H[69]=U,H[70]=Y):Y=H[70],H[71]!==q||H[72]!==Q||H[73]!==J||H[74]!==Y?(K=(0,a.jsxs)("div",{className:"CopilotAssignmentForm-module__formContainer--ncBDe",children:[q,Q,J,Y]}),H[71]=q,H[72]=Q,H[73]=J,H[74]=Y,H[75]=K):K=H[75],K});try{j.displayName||(j.displayName="CopilotAssignmentForm")}catch{}try{j.displayName||(j.displayName="CopilotAssignmentForm")}catch{}var $=n(15220),k=n(26607),I=n(84268),N=n(61491),T=n(75908),O=n(11083),P=n(97189);function B({isOpen:e,onClose:t,repository:n,issueNumbers:r,onAssignmentComplete:i,returnFocusRef:s,onSubmit:o}){let[l,d]=(0,h.useState)(!1),[u,m]=(0,h.useState)(null),p=(0,h.useRef)(null),g=(0,h.useRef)(null),f=()=>{m(null),d(!1),t()},_=n.owner.login,y=n.name,b=!!r&&r.length>1,v=(0,h.useCallback)(async(e,n,a,s)=>{if(!n)return;let l=s||void 0;if(o&&n.graphQLId)return void o(n.graphQLId,a,e,l);if(r&&0!==r.length){d(!0),m(null);try{let s=await (0,N.J)(_,y,r,{instructions:e,targetRepo:n.nameWithOwner,targetBranch:a,customAgent:l});if(s.ok)await i?.(s.data?.copilot),t();else{let e=b?(0,T.Ah)(r,s.jobs):"Assignment failed",t=(0,T.v0)(s,e);m(t)}}catch(e){m((0,T.VJ)(e,"Assignment"))}finally{d(!1)}}},[r,_,y,i,t,b,o]),w=(0,h.useMemo)(()=>n?{name:n.name,defaultBranch:void 0,owner:{login:n.owner.login}}:null,[n]),S=(0,h.useCallback)(async()=>{!l&&g.current&&await g.current.submit()},[l]);if(!e)return null;let C=r&&b?`Assign ${r.length} issues to Copilot`:"Assign Copilot to issue",x=(0,O.X)()?"https://gh.io/copilot-issues-cross-repo-assign-staff-feedback":"https://gh.io/copilot-issues-cross-repo-assign-feedback";return(0,a.jsxs)($.l,{onClose:f,width:"xlarge",returnFocusRef:s,renderHeader:({dialogLabelId:e})=>(0,a.jsxs)($.l.Header,{id:e,className:"CopilotAssignmentModal-module__header--sMKO8",children:[(0,a.jsx)($.l.Title,{children:C}),(0,a.jsxs)("div",{className:"CopilotAssignmentModal-module__rightSection--R7yuX",children:[(0,a.jsx)(k.A,{variant:"success",className:"CopilotAssignmentModal-module__previewBadge--Gu2_W",children:"Preview"}),(0,a.jsx)(I.A,{href:x,target:"_blank",rel:"noopener noreferrer",className:"CopilotAssignmentModal-module__feedbackLink--bcJD_",children:"Feedback"}),(0,a.jsx)($.l.CloseButton,{onClose:f})]})]}),children:[(0,a.jsx)("p",{className:"CopilotAssignmentModal-module__description--L15j_",children:"Copilot will open a pull request using the issue's description, comments, and the additional prompt if you provide one. Choose a custom agent to tailor Copilot for specific tasks."}),u&&(0,a.jsx)("div",{className:"CopilotAssignmentModal-module__errorContainer--xYkaJ",children:(0,a.jsx)(c.l,{variant:"critical",title:"Assignment Failed",hideTitle:!0,description:u,secondaryAction:(0,a.jsx)(c.l.SecondaryAction,{onClick:()=>m(null),children:"Dismiss"})})}),w&&(0,a.jsx)(A.tL,{commands:{"github:submit-form":S},children:(0,a.jsx)(P.Fn,{children:(0,a.jsx)(j,{ref:g,initialRepo:w,onSubmit:v,onCancel:f,isSubmitting:l,textareaRef:p,textareaAriaDescribedBy:"copilot-assignment-description"})})})]})}try{B.displayName||(B.displayName="CopilotAssignmentModal")}catch{}},97189:(e,t,n)=>{n.d(t,{Fn:()=>l,eS:()=>o});var a=n(74848),r=n(21728),i=n(96540);let s=(0,i.createContext)(void 0);function o(){let e=(0,i.useContext)(s);if(!e)throw Error("useConsecutiveCAPI401sContext must be used within a ConsecutiveCAPI401sProvider");return e}function l(e){let t,n,o,l,d=(0,r.c)(7),{children:u}=e,[m,h]=(0,i.useState)(0);d[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>h(c),n=()=>h(0),d[0]=t,d[1]=n):(t=d[0],n=d[1]),d[2]!==m?(o={numberOf401s:m,increment401s:t,reset401s:n},d[2]=m,d[3]=o):o=d[3];let p=o;return d[4]!==u||d[5]!==p?(l=(0,a.jsx)(s.Provider,{value:p,children:u}),d[4]=u,d[5]=p,d[6]=l):l=d[6],l}function c(e){return e+1}try{s.displayName||(s.displayName="ConsecutiveCAPI401sContext")}catch{}try{l.displayName||(l.displayName="ConsecutiveCAPI401sProvider")}catch{}}}]);
//# sourceMappingURL=50312-217f972467a3.js.map